# Fixate - قائمة المهام

## المرحلة الأولى: الهوية والتصميم
- [x] تصميم الشعار الرئيسي
- [x] تصميم أيقونة التطبيق
- [x] تصميم النمط البصري
- [x] إعداد دليل الهوية البصرية
- [x] تطبيق الهوية البصرية على الموقع

## المرحلة الثانية: قاعدة البيانات والبنية التحتية
- [x] تصميم جداول قاعدة البيانات (الأجهزة، الخدمات، الطلبات، الفنيين)
- [x] إنشاء نظام إدارة الأسعار
- [x] إعداد بيانات أولية للأجهزة والخدمات

## المرحلة الثالثة: الواجهة الأمامية
- [x] تصميم الصفحة الرئيسية (Landing Page)
- [x] بناء حاسبة الأسعار الفورية
- [x] صفحة طلب الخدمة (نموذج الحجز)
- [x] صفحة تتبع الطلب (طلباتي)
- [x] دعم اللغة العربية
- [ ] صفحة الملف الشخصي للعميل
- [ ] دعم اللغة الإنجليزية

## المرحلة الرابعة: لوحة تحكم الفني
- [ ] واجهة استقبال الطلبات
- [ ] نظام إدارة المواعيد
- [ ] نظام تحديث حالة الطلب
- [ ] نظام التواصل مع العميل

## المرحلة الخامسة: لوحة التحكم الإدارية
- [ ] إدارة الطلبات
- [ ] إدارة العملاء
- [ ] إدارة الفنيين
- [ ] إدارة الخدمات والأسعار
- [ ] نظام التقارير والإحصائيات

## المرحلة السادسة: الميزات المتقدمة
- [ ] نظام الدفع الإلكتروني
- [ ] نظام التقييمات والمراجعات
- [ ] نظام الإشعارات
- [ ] تتبع الموقع على الخريطة
- [ ] دعم متعدد الدول (السعودية أولاً)

## المرحلة السابعة: الاختبار والإطلاق
- [ ] اختبار جميع الميزات
- [ ] تحسين الأداء
- [ ] التأكد من التوافق مع الأجهزة المختلفة
- [ ] الإطلاق التجريبي

## التحديثات الجديدة المطلوبة
- [x] تصميم لوجو جديد عصري يعبر عن خدمة الصيانة
- [x] تطبيق اللوجو الجديد على الموقع
- [x] بناء لوحة تحكم الفنيين الكاملة
- [x] إضافة صفحة قائمة الطلبات للفنيين
- [x] إضافة صفحة تفاصيل الطلب للفني
- [x] إضافة نظام تحديث حالة الطلب
- [x] بناء لوحة تحكم الإدارة الكاملة
- [x] إضافة صفحة إدارة جميع الطلبات
- [x] إضافة صفحة إدارة الفنيين
- [ ] إضافة صفحة إدارة الأسعار
- [x] إضافة نظام الإشعارات للمالك عند طلب جديد
- [x] إضافة نظام تعيين الفنيين للطلبات

## الميزات الجديدة المطلوبة

### نظام الدفع (مجاني)
- [x] إضافة خيار الدفع عند الاستلام (Cash on Delivery)
- [x] إضافة خيار التحويل البنكي مع رفع الإيصال
- [x] إضافة نظام تتبع حالة الدفع
- [x] إضافة صفحة رفع إيصال التحويل (API)
- [x] إضافة مراجعة وتأكيد الدفع من الإدارة (API)

### نظام التقييمات والمراجعات
- [x] إضافة جدول reviews في قاعدة البيانات
- [x] إنشاء API لتقييم الفني بعد إكمال الخدمة
- [ ] إضافة عرض التقييمات في صفحة الفني (UI)
- [x] حساب متوسط التقييم للفني تلقائياً
- [ ] إضافة نظام الرد على المراجعات

### تطبيق موبايل (PWA)
- [x] إضافة manifest.json للتطبيق
- [x] إضافة Service Worker للعمل بدون إنترنت
- [x] إضافة أيقونات التطبيق بأحجام مختلفة
- [x] تحسين التصميم للموبايل (التصميم responsive من البداية)
- [ ] إضافة دعم الإشعارات Push
- [ ] اختبار التطبيق على iOS و Android

## الميزات الإضافية الجديدة

### نظام الإشعارات Push
- [x] إضافة دعم Push Notifications في Service Worker
- [x] إضافة طلب الإذن من المستخدم للإشعارات (API)
- [x] إنشاء API لإرسال الإشعارات للعملاء
- [ ] ربط الإشعارات بتحديثات حالة الطلب
- [ ] إضافة إشعار عند تعيين فني للطلب
- [ ] إضافة إشعار عند اكتمال الإصلاح

### نظام الخصومات والعروض
- [x] إضافة جدول coupons في قاعدة البيانات
- [x] إنشاء API للكوبونات
- [x] إنشاء واجهة إدارة الكوبونات (UI)
- [ ] إضافة حقل إدخال كود الخصم في صفحة الطلب (UI)
- [x] تطبيق الخصم على السعر النهائي (API)
- [x] إضافة تحقق من صلاحية الكوبون (API)
- [ ] إضافة عروض موسمية تلقائية

### تتبع الموقع الجغرافي
- [x] إضافة جدول technician_locations في قاعدة البيانات
- [x] إضافة API لتحديث موقع الفني
- [x] إنشاء صفحة تتبع الفني على الخريطة (UI)
- [ ] إضافة تحديث الموقع التلقائي من تطبيق الفني
- [ ] إضافة حساب الوقت المتوقع للوصول
- [ ] إضافة إشعار عندما يقترب الفني من الموقع

## الميزات الإضافية الجديدة (المرحلة الثانية)

### نظام الدردشة المباشرة
- [x] إضافة جدول messages في قاعدة البيانات
- [x] إضافة جدول chat_rooms في قاعدة البيانات
- [x] إنشاء API للرسائل (إرسال، استقبال، قراءة)
- [ ] إعداد WebSocket/Socket.io للدردشة الفورية
- [ ] بناء واجهة الدردشة للعملاء
- [ ] بناء واجهة الدردشة للفنيين
- [ ] إضافة إشعارات للرسائل الجديدة
- [ ] إضافة إمكانية إرسال الصور في الدردشة

### لوحة التحليلات والإحصائيات
- [x] إنشاء API لحساب الإيرادات الإجمالية
- [x] إنشاء API لأكثر الخدمات طلباً
- [x] إنشاء API لإحصائيات الفنيين
- [x] إنشاء API لمعدلات إتمام الطلبات
- [ ] بناء صفحة لوحة التحليلات
- [ ] إضافة رسوم بيانية للإيرادات (Charts)
- [ ] إضافة جداول الإحصائيات التفصيلية
- [ ] إضافة فلاتر التاريخ للتقارير

### نظام الولاء ونقاط المكافآت
- [x] إضافة جدول loyalty_points في قاعدة البيانات
- [x] إضافة جدول rewards في قاعدة البيانات
- [x] إضافة جدول points_transactions لتتبع النقاط
- [x] إنشاء API لحساب النقاط تلقائياً
- [x] إنشاء API لاستبدال النقاط بخصومات
- [ ] بناء صفحة نقاط الولاء للعملاء
- [ ] إضافة عرض النقاط في الملف الشخصي
- [ ] إنشاء نظام مستويات العضوية (Bronze, Silver, Gold)
- [ ] إضافة مكافآت خاصة لكل مستوى

## المرحلة الثالثة: الواجهات والتكاملات النهائية

### بناء الواجهات الأمامية
- [x] إنشاء صفحة الدردشة للعملاء
- [x] إنشاء صفحة الدردشة للفنيين (نفس الصفحة)
- [x] إنشاء لوحة التحليلات للإدارة مع الرسوم البيانية
- [x] إنشاء صفحة نقاط الولاء للعملاء
- [x] إضافة عرض النقاط في الملف الشخصي
- [x] إضافة صفحة المكافآت المتاحة

### نظام الإشعارات الذكية
- [x] إنشاء نظام الإشعارات الذكية (smartNotifications.ts)
- [x] ربط الإشعارات بإنشاء طلب جديد
- [ ] ربط الإشعارات بتحديث حالة الطلب (يحتاج تعديل في updateRequestStatus)
- [ ] ربط الإشعارات بالرسائل الجديدة (يحتاج تعديل في sendMessage)
- [ ] ربط الإشعارات بإضافة نقاط جديدة (يحتاج تعديل في addPoints)
- [ ] إضافة إعدادات الإشعارات للمستخدم (UI)

### بوابات الدفع المحلية
- [x] إنشاء صفحة الدفع الإلكتروني
- [x] إضافة نموذج لتكامل Moyasar (جاهز للتفعيل)
- [x] ربط الدفع بالطلبات
- [ ] إضافة تأكيد الدفع وإشعارات (يحتاج callback endpoint)
- [ ] إضافة سجل المدفوعات (UI)

## المرحلة الرابعة: التحسينات النهائية

### نظام الفواتير PDF
- [x] إنشاء نظام توليد فواتير PDF تلقائي (invoiceGenerator.ts)
- [x] إضافة معلومات الشركة والعميل في الفاتورة
- [x] إضافة تفاصيل الخدمة والأسعار
- [x] إضافة رقم الفاتورة وتاريخ الإصدار
- [x] إضافة API لتوليد وإرسال الفواتير
- [ ] إضافة زر تحميل الفاتورة في صفحة الطلبات (UI)
- [x] إرسال الفاتورة بالبريد الإلكتروني (API جاهز)

### تحسين تكامل Moyasar
- [x] إنشاء نظام تكامل Moyasar متكامل (moyasarIntegration.ts)
- [x] إضافة API لإنشاء وتتبع المدفوعات
- [x] إضافة دعم استرجاع الأموال (Refunds API)
- [x] تحسين معالجة callback الدفع (verifyCallbackSignature)
- [ ] إضافة صفحة إعدادات Moyasar API keys (UI)
- [ ] إضافة سجل المدفوعات الكامل (UI)

### تحسين PWA للموبايل
- [x] تحسين manifest.json
- [x] إضافة splash screen مخصص (من خلال manifest)
- [x] تحسين أيقونات التطبيق (متعددة الأحجام)
- [x] إضافة دعم الوضع الليلي (موجود في ThemeProvider)
- [x] تحسين الأداء على الموبايل (التصميم responsive)
- [x] إضافة shortcuts للمهام السريعة
