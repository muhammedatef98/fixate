# Fixate - قائمة المهام

## المرحلة الأولى: الهوية والتصميم
- [x] تصميم الشعار الرئيسي
- [x] تصميم أيقونة التطبيق
- [x] تصميم النمط البصري
- [x] إعداد دليل الهوية البصرية
- [x] تطبيق الهوية البصرية على الموقع

## المرحلة الثانية: قاعدة البيانات والبنية التحتية
- [x] تصميم جداول قاعدة البيانات (الأجهزة، الخدمات، الطلبات، الفنيين)
- [x] إنشاء نظام إدارة الأسعار
- [x] إعداد بيانات أولية للأجهزة والخدمات

## المرحلة الثالثة: الواجهة الأمامية
- [x] تصميم الصفحة الرئيسية (Landing Page)
- [x] بناء حاسبة الأسعار الفورية
- [x] صفحة طلب الخدمة (نموذج الحجز)
- [x] صفحة تتبع الطلب (طلباتي)
- [x] دعم اللغة العربية
- [ ] صفحة الملف الشخصي للعميل
- [ ] دعم اللغة الإنجليزية

## المرحلة الرابعة: لوحة تحكم الفني
- [ ] واجهة استقبال الطلبات
- [ ] نظام إدارة المواعيد
- [ ] نظام تحديث حالة الطلب
- [ ] نظام التواصل مع العميل

## المرحلة الخامسة: لوحة التحكم الإدارية
- [ ] إدارة الطلبات
- [ ] إدارة العملاء
- [ ] إدارة الفنيين
- [ ] إدارة الخدمات والأسعار
- [ ] نظام التقارير والإحصائيات

## المرحلة السادسة: الميزات المتقدمة
- [ ] نظام الدفع الإلكتروني
- [ ] نظام التقييمات والمراجعات
- [ ] نظام الإشعارات
- [ ] تتبع الموقع على الخريطة
- [ ] دعم متعدد الدول (السعودية أولاً)

## المرحلة السابعة: الاختبار والإطلاق
- [ ] اختبار جميع الميزات
- [ ] تحسين الأداء
- [ ] التأكد من التوافق مع الأجهزة المختلفة
- [ ] الإطلاق التجريبي

## التحديثات الجديدة المطلوبة
- [x] تصميم لوجو جديد عصري يعبر عن خدمة الصيانة
- [x] تطبيق اللوجو الجديد على الموقع
- [x] بناء لوحة تحكم الفنيين الكاملة
- [x] إضافة صفحة قائمة الطلبات للفنيين
- [x] إضافة صفحة تفاصيل الطلب للفني
- [x] إضافة نظام تحديث حالة الطلب
- [x] بناء لوحة تحكم الإدارة الكاملة
- [x] إضافة صفحة إدارة جميع الطلبات
- [x] إضافة صفحة إدارة الفنيين
- [ ] إضافة صفحة إدارة الأسعار
- [x] إضافة نظام الإشعارات للمالك عند طلب جديد
- [x] إضافة نظام تعيين الفنيين للطلبات

## الميزات الجديدة المطلوبة

### نظام الدفع (مجاني)
- [x] إضافة خيار الدفع عند الاستلام (Cash on Delivery)
- [x] إضافة خيار التحويل البنكي مع رفع الإيصال
- [x] إضافة نظام تتبع حالة الدفع
- [x] إضافة صفحة رفع إيصال التحويل (API)
- [x] إضافة مراجعة وتأكيد الدفع من الإدارة (API)

### نظام التقييمات والمراجعات
- [x] إضافة جدول reviews في قاعدة البيانات
- [x] إنشاء API لتقييم الفني بعد إكمال الخدمة
- [ ] إضافة عرض التقييمات في صفحة الفني (UI)
- [x] حساب متوسط التقييم للفني تلقائياً
- [ ] إضافة نظام الرد على المراجعات

### تطبيق موبايل (PWA)
- [x] إضافة manifest.json للتطبيق
- [x] إضافة Service Worker للعمل بدون إنترنت
- [x] إضافة أيقونات التطبيق بأحجام مختلفة
- [x] تحسين التصميم للموبايل (التصميم responsive من البداية)
- [ ] إضافة دعم الإشعارات Push
- [ ] اختبار التطبيق على iOS و Android

## الميزات الإضافية الجديدة

### نظام الإشعارات Push
- [x] إضافة دعم Push Notifications في Service Worker
- [x] إضافة طلب الإذن من المستخدم للإشعارات (API)
- [x] إنشاء API لإرسال الإشعارات للعملاء
- [ ] ربط الإشعارات بتحديثات حالة الطلب
- [ ] إضافة إشعار عند تعيين فني للطلب
- [ ] إضافة إشعار عند اكتمال الإصلاح

### نظام الخصومات والعروض
- [x] إضافة جدول coupons في قاعدة البيانات
- [x] إنشاء API للكوبونات
- [x] إنشاء واجهة إدارة الكوبونات (UI)
- [ ] إضافة حقل إدخال كود الخصم في صفحة الطلب (UI)
- [x] تطبيق الخصم على السعر النهائي (API)
- [x] إضافة تحقق من صلاحية الكوبون (API)
- [ ] إضافة عروض موسمية تلقائية

### تتبع الموقع الجغرافي
- [x] إضافة جدول technician_locations في قاعدة البيانات
- [x] إضافة API لتحديث موقع الفني
- [x] إنشاء صفحة تتبع الفني على الخريطة (UI)
- [ ] إضافة تحديث الموقع التلقائي من تطبيق الفني
- [ ] إضافة حساب الوقت المتوقع للوصول
- [ ] إضافة إشعار عندما يقترب الفني من الموقع

## الميزات الإضافية الجديدة (المرحلة الثانية)

### نظام الدردشة المباشرة
- [x] إضافة جدول messages في قاعدة البيانات
- [x] إضافة جدول chat_rooms في قاعدة البيانات
- [x] إنشاء API للرسائل (إرسال، استقبال، قراءة)
- [ ] إعداد WebSocket/Socket.io للدردشة الفورية
- [ ] بناء واجهة الدردشة للعملاء
- [ ] بناء واجهة الدردشة للفنيين
- [ ] إضافة إشعارات للرسائل الجديدة
- [ ] إضافة إمكانية إرسال الصور في الدردشة

### لوحة التحليلات والإحصائيات
- [x] إنشاء API لحساب الإيرادات الإجمالية
- [x] إنشاء API لأكثر الخدمات طلباً
- [x] إنشاء API لإحصائيات الفنيين
- [x] إنشاء API لمعدلات إتمام الطلبات
- [ ] بناء صفحة لوحة التحليلات
- [ ] إضافة رسوم بيانية للإيرادات (Charts)
- [ ] إضافة جداول الإحصائيات التفصيلية
- [ ] إضافة فلاتر التاريخ للتقارير

### نظام الولاء ونقاط المكافآت
- [x] إضافة جدول loyalty_points في قاعدة البيانات
- [x] إضافة جدول rewards في قاعدة البيانات
- [x] إضافة جدول points_transactions لتتبع النقاط
- [x] إنشاء API لحساب النقاط تلقائياً
- [x] إنشاء API لاستبدال النقاط بخصومات
- [ ] بناء صفحة نقاط الولاء للعملاء
- [ ] إضافة عرض النقاط في الملف الشخصي
- [ ] إنشاء نظام مستويات العضوية (Bronze, Silver, Gold)
- [ ] إضافة مكافآت خاصة لكل مستوى

## المرحلة الثالثة: الواجهات والتكاملات النهائية

### بناء الواجهات الأمامية
- [x] إنشاء صفحة الدردشة للعملاء
- [x] إنشاء صفحة الدردشة للفنيين (نفس الصفحة)
- [x] إنشاء لوحة التحليلات للإدارة مع الرسوم البيانية
- [x] إنشاء صفحة نقاط الولاء للعملاء
- [x] إضافة عرض النقاط في الملف الشخصي
- [x] إضافة صفحة المكافآت المتاحة

### نظام الإشعارات الذكية
- [x] إنشاء نظام الإشعارات الذكية (smartNotifications.ts)
- [x] ربط الإشعارات بإنشاء طلب جديد
- [ ] ربط الإشعارات بتحديث حالة الطلب (يحتاج تعديل في updateRequestStatus)
- [ ] ربط الإشعارات بالرسائل الجديدة (يحتاج تعديل في sendMessage)
- [ ] ربط الإشعارات بإضافة نقاط جديدة (يحتاج تعديل في addPoints)
- [ ] إضافة إعدادات الإشعارات للمستخدم (UI)

### بوابات الدفع المحلية
- [x] إنشاء صفحة الدفع الإلكتروني
- [x] إضافة نموذج لتكامل Moyasar (جاهز للتفعيل)
- [x] ربط الدفع بالطلبات
- [ ] إضافة تأكيد الدفع وإشعارات (يحتاج callback endpoint)
- [ ] إضافة سجل المدفوعات (UI)

## المرحلة الرابعة: التحسينات النهائية

### نظام الفواتير PDF
- [x] إنشاء نظام توليد فواتير PDF تلقائي (invoiceGenerator.ts)
- [x] إضافة معلومات الشركة والعميل في الفاتورة
- [x] إضافة تفاصيل الخدمة والأسعار
- [x] إضافة رقم الفاتورة وتاريخ الإصدار
- [x] إضافة API لتوليد وإرسال الفواتير
- [ ] إضافة زر تحميل الفاتورة في صفحة الطلبات (UI)
- [x] إرسال الفاتورة بالبريد الإلكتروني (API جاهز)

### تحسين تكامل Moyasar
- [x] إنشاء نظام تكامل Moyasar متكامل (moyasarIntegration.ts)
- [x] إضافة API لإنشاء وتتبع المدفوعات
- [x] إضافة دعم استرجاع الأموال (Refunds API)
- [x] تحسين معالجة callback الدفع (verifyCallbackSignature)
- [ ] إضافة صفحة إعدادات Moyasar API keys (UI)
- [ ] إضافة سجل المدفوعات الكامل (UI)

### تحسين PWA للموبايل
- [x] تحسين manifest.json
- [x] إضافة splash screen مخصص (من خلال manifest)
- [x] تحسين أيقونات التطبيق (متعددة الأحجام)
- [x] إضافة دعم الوضع الليلي (موجود في ThemeProvider)
- [x] تحسين الأداء على الموبايل (التصميم responsive)
- [x] إضافة shortcuts للمهام السريعة

## إصلاحات عاجلة

- [x] إصلاح خطأ Vite WebSocket HMR

## الميزات الجديدة المطلوبة

### صفحة من نحن
- [x] إنشاء صفحة About Us
- [x] إضافة رؤية ورسالة الشركة
- [x] إضافة قسم فريق العمل (قيم الشركة)
- [x] إضافة قيم الشركة

### صفحة الأسئلة الشائعة (FAQ)
- [x] إنشاء صفحة FAQ
- [x] إضافة أسئلة عن الأسعار
- [x] إضافة أسئلة عن الضمان
- [x] إضافة أسئلة عن مدة الإصلاح
- [x] إضافة أسئلة عن طرق الدفع

### تحسين SEO
- [x] إضافة meta tags في جميع الصفحات
- [x] إضافة Open Graph tags
- [x] إضافة Twitter Card tags
- [x] إضافة structured data (JSON-LD)
- [x] إضافة sitemap.xml
- [x] إضافة robots.txt

## تحديث التصميم بأسلوب Apple العصري

### نظام الألوان والخطوط
- [ ] تحديث نظام الألوان في index.css (ألوان محايدة)
- [ ] تغيير الخطوط إلى SF Pro أو Inter
- [ ] إضافة متغيرات CSS جديدة للتصميم العصري

### إعادة تصميم الصفحات
- [x] إعادة تصميم الصفحة الرئيسية بأسلوب Apple
- [ ] تحديث صفحة من نحن
- [ ] تحديث صفحة FAQ
- [ ] تحديث صفحة الحاسبة
- [ ] تحديث صفحة طلب الخدمة

## تحديث التصميم بأسلوب Apple العصري

### اللوجو الجديد
- [x] تصميم لوجو عصري minimalist
- [x] تطبيق اللوجو على الموقع

### نظام الألوان والخطوط
- [x] تحديث نظام الألوان في index.css (ألوان محايدة)
- [x] تغيير الخطوط إلى SF Pro أو Inter
- [x] إضافة متغيرات CSS جديدة للتصميم العصري

### إعادة تصميم الصفحات
- [x] إعادة تصميم الصفحة الرئيسية بأسلوب Apple
- [ ] تحديث صفحة من نحن
- [ ] تحديث صفحة FAQ
- [ ] تحديث صفحة الحاسبة
- [ ] تحديث صفحة طلب الخدمة

## تحسينات التصميم والتجربة

### إصلاح RTL ونظام اللغات
- [x] إضافة RTL support للنصوص العربية
- [x] إنشاء نظام تبديل اللغات (عربي/English)
- [x] إضافة ملفات الترجمة
- [x] تطبيق RTL على كل الصفحات

### Dark Mode
- [x] تحديث نظام الألوان لدعم Dark Mode
- [x] إضافة زر تبديل Dark/Light Mode
- [x] تطبيق Dark Mode على كل المكونات

### تطبيق التصميم الجديد
- [x] تحديث صفحة من نحن بالتصميم الجديد
- [x] تحديث صفحة FAQ بالتصميم الجديد
- [ ] تحديث صفحة الحاسبة بالتصميم الجديد
- [ ] تحديث صفحة طلب الخدمة بالتصميم الجديد

## تعديل اللوجو
- [x] تعديل اللوجو ليتناسق مع خلفية الهيدر في Light Mode
- [x] تعديل اللوجو ليتناسق مع خلفية الهيدر في Dark Mode
- [x] إضافة filter CSS لتغيير لون اللوجو تلقائياً

## تصميم اللوجو والهوية البصرية
- [x] تصميم أيقونة لوجو minimalist (icon only)
- [x] تطبيق اللوجو الجديد على كل الصفحات
- [x] إنشاء ملف الهوية البصرية الكامل
- [x] شرح فلسفة التصميم واختيار الألوان
- [x] توثيق استخدامات اللوجو المختلفة

## عرض البوربوينت للهوية البصرية
- [x] إعداد محتوى العرض التقديمي
- [ ] تصميم الشرائح بالألوان واللوجو
- [ ] إضافة أمثلة بصرية للتطبيقات
- [ ] تصدير العرض بصيغة PowerPoint

## إزالة خلفيات اللوجو
- [x] إزالة جميع الخلفيات (الرمادية والخضراء) من اللوجو
- [x] جعل اللوجو شفاف تماماً
- [x] الاحتفاظ بالأيقونة فقط (الجهاز + المفتاح)

## تحسين قسم الأجهزة التي نصلحها
- [x] تصميم أيقونات أكبر وأوضح
- [x] تبسيط البطاقات (بدون حدود كثيرة)
- [x] تحسين التباعد والمساحات البيضاء
- [x] تكبير الخطوط لسهولة القراءة
- [x] استخدام الأخضر الزمردي كلون أساسي فقط

## تحسين صفحة احجز الآن
- [x] تصميم صفحة احترافية بخطوات واضحة (Step 1, 2, 3)
- [x] إضافة Progress bar للخطوات
- [x] إضافة لوجوهات الأجهزة (Apple, Samsung, Huawei, Dell, HP, Lenovo)
- [x] تصميم بطاقات اختيار أنيقة للأجهزة
- [x] إضافة زر "حدد موقعي الحالي" (GPS)
- [x] إضافة زر "اختر من الخريطة" (Google Maps)
- [x] تكامل Google Maps لتحديد الموقع
- [x] عرض الموقع المحدد على خريطة صغيرة
- [x] تأثيرات انتقالية ناعمة بين الخطوات

## صفحة تتبع الطلب
- [x] تصميم صفحة TrackOrder احترافية
- [x] إضافة Status Timeline (قيد المراجعة، تم التأكيد، الفني في الطريق، جاري الإصلاح، تم الانتهاء)
- [x] إضافة خريطة Google Maps لموقع الفني
- [x] عرض موقع العميل على الخريطة
- [x] رسم المسار بين الفني والعميل
- [x] حساب الوقت المتوقع للوصول
- [x] عرض معلومات الفني (صورة، اسم، تقييم، رقم جوال)
- [x] إضافة زر اتصال مباشر بالفني
- [x] تحديث الموقع تلقائياً كل 30 ثانية
- [x] إضافة تفاصيل الطلب (الجهاز، الخدمة، السعر)

## تحسين صفحة احجز الآن - نظام اختيار متدرج
- [x] إعادة هيكلة الخطوة الأولى لاختيار الشركة أولاً
- [x] إضافة بطاقات الشركات مع لوجوهاتها (Apple, Samsung, Huawei, Dell, HP, Lenovo)
- [x] تنظيم الموديلات حسب الشركة المختارة
- [x] إضافة خطوة فرعية لاختيار الموديل بعد اختيار الشركة
- [x] تحديث Progress bar ليعكس الخطوات الجديدة
- [x] تحسين تجربة التنقل بين الخطوات (زر رجوع)

## رفع المشروع على GitHub
- [x] إنشاء .gitignore file
- [x] إنشاء README.md شامل (التنصيب، الإعداد، الاستضافة)
- [x] إنشاء DEPLOYMENT.md بكل التفاصيل
- [x] إنشاء docker-compose.yml لـ MySQL
- [x] إنشاء Dockerfile
- [x] إنشاء .dockerignore
- [x] إنشاء سكريبت setup.sh
- [x] توثيق الاستضافة على Vercel/Railway/Render
- [x] إضافة حلول بديلة للداتابيس (PlanetScale/Docker)
- [ ] رفع الكود على GitHub

## إزالة OAuth من الكود (Remove OAuth Code)

- [ ] إزالة OAuth initialization من server/_core/index.ts
- [ ] تحديث context.ts لاستخدام JWT بدل OAuth
- [ ] إزالة OAuth middleware
- [ ] إزالة OAUTH_SERVER_URL requirement
- [ ] اختبار الموقع بدون OAuth
- [ ] Deploy على Render

## إصلاح bcryptjs dependency (Fix bcryptjs Dependency)

- [x] التأكد من وجود bcryptjs في package.json
- [x] إضافة postgres وإزالة mysql2
- [x] رفع package.json المحدّث على GitHub
- [ ] انتظار Render redeploy
- [ ] اختبار الموقع

## تحسين GitHub Repository (GitHub Repository Cleanup)

- [ ] كتابة README.md احترافي (عربي + إنجليزي)
- [ ] حذف الملفات الزيادة (schema_converted, schema_mysql_backup, oauth.ts.disabled, sdk.ts.disabled)
- [ ] تحديث .gitignore
- [ ] إضافة LICENSE file
- [ ] تحديث repository description
- [ ] إضافة topics/tags
- [ ] رفع التحديثات على GitHub

## إزالة route /book واستخدام /request فقط

- [ ] حذف route /book من App.tsx
- [ ] تحديث جميع الروابط لاستخدام /request بدلاً من /book
- [ ] رفع التحديث على GitHub

## إصلاح خطأ Invalid URL في صفحة /request

- [ ] فحص ServiceRequest.tsx للبحث عن مشكلة URL construction
- [ ] إصلاح الخطأ
- [ ] اختبار الصفحة محلياً
- [ ] رفع الإصلاح على GitHub

## إصلاح صفحة /request وحذف /book

- [x] حذف route /book من App.tsx
- [x] إصلاح خطأ Invalid URL في ServiceRequest.tsx
- [x] اختبار /request محلياً
- [ ] رفع الإصلاح على GitHub

## إصلاح صفحة /request على Render نهائياً

- [x] فحص حالة النشر على Render
- [x] البحث بعمق عن سبب Invalid URL error
- [x] إصلاح جميع المشاكل
- [x] اختبار شامل محلياً
- [x] رفع على GitHub والتحقق من Render

## نظام تتبع الفني على الخريطة في الوقت الفعلي

- [ ] إضافة جدول technician_locations في schema
- [ ] إنشاء API endpoint لتحديث موقع الفني
- [ ] إنشاء صفحة Track Order تعرض الخريطة
- [ ] إضافة real-time updates باستخدام polling أو websocket
- [ ] اختبار النظام

## AI Chatbot للدعم الفني

- [x] إنشاء Chat component في الواجهة
- [x] ربط Chatbot بـ LLM API
- [x] إضافة knowledge base للأسئلة الشائعة
- [x] إضافة زر chatbot عائم في جميع الصفحات
- [ ] اختبار الـ chatbot

## تحديث GitHub Description

- [x] تحديث README.md ليوضح نموذج العمل
- [x] تحديث repository description على GitHub
- [ ] رفع التحديثات على GitHub
